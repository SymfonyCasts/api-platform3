diff --git a/src/State/DragonTreasureStateProcessor.php b/src/State/DragonTreasureStateProcessor.php
index 80291354..77ae8c72 100644
--- a/src/State/DragonTreasureStateProcessor.php
+++ b/src/State/DragonTreasureStateProcessor.php
@@ -2,16 +2,20 @@
 
 namespace App\State;
 
+use ApiPlatform\Doctrine\Common\State\PersistProcessor;
 use ApiPlatform\Metadata\Operation;
 use ApiPlatform\State\ProcessorInterface;
 use App\Entity\DragonTreasure;
 use Symfony\Bundle\SecurityBundle\Security;
-use Symfony\Component\DependencyInjection\Attribute\AsDecorator;
+use Symfony\Component\DependencyInjection\Attribute\Autowire;
 
-#[AsDecorator('api_platform.doctrine.orm.state.persist_processor')]
 class DragonTreasureStateProcessor implements ProcessorInterface
 {
-    public function __construct(private ProcessorInterface $innerProcessor, private Security $security)
+    public function __construct(
+        #[Autowire(service: PersistProcessor::class)]
+        private ProcessorInterface $innerProcessor,
+        private Security $security
+    )
     {
     }
 
